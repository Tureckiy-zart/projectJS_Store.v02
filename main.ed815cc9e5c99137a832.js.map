{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/addMarkup.js","webpack:///./js/apiService.js","webpack:///./js/services.js","webpack:///./js/templates/itemTemplate.hbs"],"names":["refs","container","document","querySelector","form","forms","searchForm","createGallery","dataArr","ulMarkup","createList","map","item","createItemLi","itemMarkup","join","insertAdjacentHTML","apiService","pageNum","perPage","search","getData","this","url","baseUrl","console","log","fetch","then","response","ok","json","data","hits","catch","error","warn","nextPage","prevPage","resetPage","e","innerHTML","addEventListener","event","preventDefault","currentTarget","inputValue","query","value","gallery","remove","reset","Handlebars","module","exports","template","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call"],"mappings":"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","file":"main.ed815cc9e5c99137a832.js","sourcesContent":["import { addMarkupSearchForm } from \"./addMarkup\";\r\n\r\nconst refs = {\r\n  container: document.querySelector('#container'),\r\n  form: document.forms.searchForm,\r\n  // nextPage : document.querySelector('#nextPage'),\r\n  // prevPage : document.querySelector('#prevPage'),\r\n};\r\n\r\n\r\nexport default refs;\r\n","import itemMarkup from './templates/itemTemplate.hbs';\r\nimport refs from './refs';\r\n//================form=================================\r\nexport const addMarkupSearchForm = () => {\r\n  const searchFormMarkup = `\r\n        <form name = \"searchForm\" class=\"search-form\" id=\"search-form\">\r\n            <input type=\"search\" id=\"search\" name=\"query\" autocomplete=\"off\" placeholder=\"Search images...\"/>\r\n        </form>`;\r\n  refs.container.innerHTML = searchFormMarkup;\r\n\r\n};\r\n\r\n//================Gallery=================================\r\nexport const createGallery = dataArr => {\r\n  const createItemUl = liItems => {\r\n    const ulMarkup = `\r\n        <ul class=\"gallery\">\r\n          ${liItems} \r\n        </ul>`;\r\n    refs.container.insertAdjacentHTML('beforeend', ulMarkup);\r\n  };\r\n\r\n  const createItemLi = item => `<li class=\"galleryListItem\">${item}</li>`;\r\n\r\n  const createList = dataArr\r\n    .map(item => createItemLi(itemMarkup(item)))\r\n    .join('');\r\n\r\n  createItemUl(createList);\r\n};\r\n\r\n//=======================================================\r\n{\r\n  // let elem = document.querySelector('#elem');\r\n  // elem.addEventListener('click', function func() {\r\n  // \tlet input = document.createElement('input');\r\n  // \tinput.value = elem.innerHTML;\r\n  // \telem.innerHTML = '';\r\n  // \telem.appendChild(input);\r\n  // \tinput.addEventListener('blur', function() {\r\n  // \t\telem.innerHTML = this.value;\r\n  // \t\telem.addEventListener('click', func); // повесим событие обратно\r\n  // \t});\r\n  // \telem.removeEventListener('click', func);\r\n  // });\r\n}\r\n","'use strict'\r\nconst apiKey = '16752813-8ad3a541d9a85fd347d38c131';\r\n\r\nconst apiService = {\r\n  pageNum: 1,\r\n  perPage: 12,\r\n  search: 'kiev',\r\n\r\n  getData(\r\n    search = this.search,\r\n    pageNum = this.pageNum,\r\n    perPage = this.perPage,\r\n  ) {\r\n    this.pageNum = pageNum;\r\n    this.search = search;\r\n    const baseUrl = 'https://pixabay.com/api/';\r\n    const rest = `?image_type=photo&orientation=horizontal&q=`;\r\n    const searchParams = `${search}&page=${pageNum}&per_page=${perPage}&key=${apiKey}`;\r\n    const url = baseUrl + rest + searchParams;\r\n    console.log(url);\r\n\r\n    return fetch(url)\r\n      .then(response => {\r\n        if (response.ok) return response.json();\r\n      })\r\n      .then(data => data.hits)\r\n      .catch(error => console.warn('==Err==', error));\r\n  },\r\n\r\n  nextPage() {\r\n    this.pageNum += 1;\r\n    return this.getData();\r\n  },\r\n  prevPage() {\r\n    // console.log(this);\r\n    \r\n    this.pageNum -= 1;\r\n    // console.log(this.pageNum);\r\n        return this.getData();\r\n  },\r\n  \r\n  resetPage(e) {\r\n    // console.log(this);\r\n    this.pageNum = 1;\r\n    // console.log( this.getData());\r\n    return this.getData();\r\n\r\n  // console.log('resetPage' , 11);\r\n  // console.log('this.page' , this.pageNum);\r\n},\r\n};\r\n\r\nconsole.log('this.page' , apiService.pageNum);\r\n\r\n\r\n// console.log(apiService.resetPage());\r\n\r\n// apiService.resetPage()\r\n\r\nexport default apiService;\r\n","// 'use strict';\r\nimport { createGallery, addMarkupSearchForm } from './addMarkup.js';\r\nimport apiService from './apiService';\r\n\r\naddMarkupSearchForm();\r\n\r\nconst searchItems = () => {\r\n  const form = document.forms.searchForm;\r\n  form.addEventListener('submit', searchQuery);\r\n  function searchQuery(event) {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const inputValue = form.query.value;\r\n\r\n    const gallery = document.querySelector('.gallery');\r\n    gallery && gallery.remove();\r\n    form.reset();\r\n\r\n    // console.log(apiService.resetPage); // undef\r\n\r\n    apiService.getData(inputValue).then(data => createGallery(data));\r\n  }\r\n};\r\nconst incrementPage = () => {\r\n  nextPage.addEventListener('click', increment);\r\n  function increment() {\r\n    const gallery = document.querySelector('.gallery');\r\n    gallery && gallery.remove();\r\n    apiService.nextPage().then(data => createGallery(data));\r\n  }\r\n};\r\nconst decrementPage = (a) => {\r\n  prevPage.addEventListener('click', decrement);\r\n  function decrement() {\r\n    const gallery = document.querySelector('.gallery');\r\n    gallery && gallery.remove();\r\n    // a.then(data => createGallery(data));    // почему нельз передать параметорм функцию\r\n    apiService.prevPage().then(data => createGallery(data));\r\n  }\r\n};\r\n\r\nsearchItems();\r\nincrementPage();\r\ndecrementPage();\r\n// decrementPage(apiService.prevPage());\r\n// \r\n// function navigation(params, callbask) {\r\n// //   params.addEventListener('click', changePage);\r\n\r\n// //   function changePage() {\r\n// //     const gallery = document.querySelector('.gallery');\r\n// //     gallery && gallery.remove();\r\n\r\n// //     callbask.then(data => createGallery(data));\r\n// //     // callbask.then(data => createGallery(data));\r\n// //     console.log(apiService.pageNum);\r\n    \r\n// //     console.log(callbask.then(data => createGallery(data)));\r\n// //   }\r\n// }\r\n// navigation(nextPage, apiService.nextPage());\r\n// navigation(prevPage, apiService.prevPage());\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n// const resetPage = ()=>{\r\n//   form.addEventListener('submit', apiService.resetPage())\r\n// // form.addEventListener('submit',resetPage)\r\n// // function resetPage(e) {\r\n\r\n// //   console.log(apiService);\r\n// //   // console.log(this);\r\n\r\n// //   apiService.resetPage()\r\n// // }\r\n\r\n// }\r\n\r\n// apiService.resetPage()","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"photo-card\\\">\\r\\n<img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":10},\"end\":{\"line\":3,\"column\":26}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":41}}}) : helper)))\n    + \"\\\" data-url=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":53},\"end\":{\"line\":3,\"column\":70}}}) : helper)))\n    + \" width =\\\"\\\">\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":12},\"end\":{\"line\":8,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":12},\"end\":{\"line\":12,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":12},\"end\":{\"line\":16,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":12},\"end\":{\"line\":20,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}